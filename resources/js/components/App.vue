<template>

    <div class="h-screen bg-white">
        <div class="flex">

            <div class="bg-gray-200 w-48 h-screen border-r-2 border-gray-400">

                <nav class="pt-4">

                    <router-link to="/imgs">
                        <div @click="on = true; message = ''">
                            <svg width="175.76005859375px" height="72.80615234375px" xmlns="http://www.w3.org/2000/svg" viewBox="144.119970703125 38.596923828125 211.76005859375 72.80615234375" style="background: rgba(0, 0, 0, 0);" preserveAspectRatio="xMidYMid"><defs><filter id="editing-hole" x="-100%" y="-100%" width="300%" height="300%"><feFlood flood-color="#000" result="black"></feFlood><feMorphology operator="dilate" radius="2" in="SourceGraphic" result="erode"></feMorphology><feGaussianBlur in="erode" stdDeviation="4" result="blur"></feGaussianBlur><feOffset in="blur" dx="2" dy="2" result="offset"></feOffset><feComposite operator="atop" in="offset" in2="black" result="merge"></feComposite><feComposite operator="in" in="merge" in2="SourceGraphic" result="inner-shadow"></feComposite></filter></defs><g filter="url(#editing-hole)"><g transform="translate(179.5799981355667, 87.12406253814697)"><path d="M1.09-3.30L1.09-3.30L1.09-3.30Q1.09-4.19 1.55-6.44L1.55-6.44L3.30-15.35L1.35-15.35L1.49-16.34L1.49-16.34Q5.45-17.52 9.27-20.43L9.27-20.43L10.86-20.43L10.07-16.83L12.64-16.83L12.34-15.35L9.80-15.35L8.12-6.44L8.12-6.44Q7.69-4.39 7.69-3.70L7.69-3.70L7.69-3.70Q7.69-2.11 9.08-1.78L9.08-1.78L9.08-1.78Q8.75-0.66 7.56 0L7.56 0L7.56 0Q6.37 0.66 4.69 0.66L4.69 0.66L4.69 0.66Q3.00 0.66 2.05-0.40L2.05-0.40L2.05-0.40Q1.09-1.45 1.09-3.30ZM23.07-1.39L23.07-1.39L23.07-1.39Q21.48 0.66 17.56 0.66L17.56 0.66L17.56 0.66Q15.51 0.66 14.03-0.58L14.03-0.58L14.03-0.58Q12.54-1.82 12.54-3.60L12.54-3.60L12.54-3.60Q12.54-4.59 12.64-5.08L12.64-5.08L14.85-16.83L21.55-17.49L19.14-4.75L19.14-4.75Q19.01-4.03 19.01-3.60L19.01-3.60L19.01-3.60Q19.01-1.68 20.16-1.68L20.16-1.68L20.16-1.68Q21.45-1.68 22.37-3.43L22.37-3.43L22.37-3.43Q22.67-3.99 22.80-4.72L22.80-4.72L25.15-16.83L31.65-17.49L29.21-4.62L29.21-4.62Q29.11-4.13 29.11-3.60L29.11-3.60L29.11-3.60Q29.11-3.07 29.40-2.49L29.40-2.49L29.40-2.49Q29.70-1.91 30.66-1.78L30.66-1.78L30.66-1.78Q30.46-0.99 29.77-0.46L29.77-0.46L29.77-0.46Q28.31 0.66 26.75 0.66L26.75 0.66L26.75 0.66Q25.18 0.66 24.26 0.10L24.26 0.10L24.26 0.10Q23.33-0.46 23.07-1.39ZM41.32-1.82L41.32-1.82L41.32-1.82Q40.29 0.66 37.03 0.66L37.03 0.66L37.03 0.66Q35.38 0.66 34.32-0.49L34.32-0.49L34.32-0.49Q33.46-1.45 33.46-2.54L33.46-2.54L33.46-2.54Q33.46-5.02 34.62-10.43L34.62-10.43L37.03-23.10L43.73-23.76L40.52-7.06L40.52-7.06Q39.96-4.62 39.96-3.76L39.96-3.76L39.96-3.76Q39.96-1.88 41.32-1.82ZM43.69-1.58L43.69-1.58L47.78-23.10L54.48-23.76L53.46-18.71L53.46-18.71Q53.10-17.16 52.64-16.07L52.64-16.07L52.64-16.07Q53.36-17.00 54.95-17.36L54.95-17.36L54.95-17.36Q55.41-17.49 55.97-17.49L55.97-17.49L55.97-17.49Q59.04-17.49 60.72-15.63L60.72-15.63L60.72-15.63Q62.40-13.76 62.40-10.16L62.40-10.16L62.40-10.16Q62.40-5.48 59.73-2.54L59.73-2.54L59.73-2.54Q56.86 0.66 51.65 0.66L51.65 0.66L51.65 0.66Q48.05 0.66 45.34-0.53L45.34-0.53L45.34-0.53Q44.39-0.96 43.69-1.58ZM52.07-11.55L50.33-1.88L50.33-1.88Q51.02-1.29 51.88-1.29L51.88-1.29L51.88-1.29Q52.73-1.29 53.23-1.62L53.23-1.62L53.23-1.62Q53.72-1.95 54.09-2.61L54.09-2.61L54.09-2.61Q55.08-4.39 55.87-9.83L55.87-9.83L55.87-9.83Q56.10-11.38 56.10-12.94L56.10-12.94L56.10-12.94Q56.10-14.49 55.75-14.98L55.75-14.98L55.75-14.98Q55.41-15.48 54.75-15.48L54.75-15.48L54.75-15.48Q52.73-15.48 52.07-11.55L52.07-11.55ZM71.58 0.66L71.58 0.66L71.58 0.66Q64.32 0.66 64.32-6.17L64.32-6.17L64.32-6.17Q64.32-11.02 66.99-14.16L66.99-14.16L66.99-14.16Q69.83-17.49 74.75-17.49L74.75-17.49L74.75-17.49Q78.31-17.49 80.12-15.84L80.12-15.84L80.12-15.84Q81.94-14.19 81.94-10.72L81.94-10.72L81.94-10.72Q81.94-5.45 79.10-2.38L79.10-2.38L79.10-2.38Q76.33 0.66 71.58 0.66ZM72.44-13.70L72.44-13.70L72.44-13.70Q72.04-12.80 71.73-11.47L71.73-11.47L71.73-11.47Q71.41-10.13 71.02-8.02L71.02-8.02L71.02-8.02Q70.62-5.91 70.62-3.30L70.62-3.30L70.62-3.30Q70.62-2.44 70.90-1.88L70.90-1.88L70.90-1.88Q71.18-1.32 71.94-1.32L71.94-1.32L71.94-1.32Q72.70-1.32 73.18-1.68L73.18-1.68L73.18-1.68Q73.66-2.05 74.02-2.90L74.02-2.90L74.02-2.90Q74.68-4.42 75.21-7.24L75.21-7.24L75.21-7.24Q75.73-10.07 75.78-11.29L75.78-11.29L75.78-11.29Q75.83-12.51 75.83-13.41L75.83-13.41L75.83-13.41Q75.83-14.32 75.57-14.92L75.57-14.92L75.57-14.92Q75.31-15.51 74.56-15.51L74.56-15.51L74.56-15.51Q73.82-15.51 73.33-15.05L73.33-15.05L73.33-15.05Q72.83-14.59 72.44-13.70ZM91.08 0.66L91.08 0.66L91.08 0.66Q83.82 0.66 83.82-6.17L83.82-6.17L83.82-6.17Q83.82-11.02 86.49-14.16L86.49-14.16L86.49-14.16Q89.33-17.49 94.25-17.49L94.25-17.49L94.25-17.49Q97.81-17.49 99.63-15.84L99.63-15.84L99.63-15.84Q101.44-14.19 101.44-10.72L101.44-10.72L101.44-10.72Q101.44-5.45 98.60-2.38L98.60-2.38L98.60-2.38Q95.83 0.66 91.08 0.66ZM91.94-13.70L91.94-13.70L91.94-13.70Q91.54-12.80 91.23-11.47L91.23-11.47L91.23-11.47Q90.92-10.13 90.52-8.02L90.52-8.02L90.52-8.02Q90.12-5.91 90.12-3.30L90.12-3.30L90.12-3.30Q90.12-2.44 90.40-1.88L90.40-1.88L90.40-1.88Q90.68-1.32 91.44-1.32L91.44-1.32L91.44-1.32Q92.20-1.32 92.68-1.68L92.68-1.68L92.68-1.68Q93.16-2.05 93.52-2.90L93.52-2.90L93.52-2.90Q94.18-4.42 94.71-7.24L94.71-7.24L94.71-7.24Q95.24-10.07 95.29-11.29L95.29-11.29L95.29-11.29Q95.34-12.51 95.34-13.41L95.34-13.41L95.34-13.41Q95.34-14.32 95.07-14.92L95.07-14.92L95.07-14.92Q94.81-15.51 94.07-15.51L94.07-15.51L94.07-15.51Q93.32-15.51 92.83-15.05L92.83-15.05L92.83-15.05Q92.33-14.59 91.94-13.70ZM113.72-9.27L113.72-9.27L113.72-9.27Q114.91-11.38 114.91-13.53L114.91-13.53L114.91-13.53Q114.91-14.95 113.88-14.95L113.88-14.95L113.88-14.95Q113.09-14.95 112.27-13.60L112.27-13.60L112.27-13.60Q111.41-12.24 111.14-10.49L111.14-10.49L109.43 0L102.60 0.66L105.96-16.83L111.41-17.49L110.81-14.16L110.81-14.16Q112.43-17.49 116.06-17.49L116.06-17.49L116.06-17.49Q117.98-17.49 119.01-16.50L119.01-16.50L119.01-16.50Q120.05-15.51 120.05-13.48L120.05-13.48L120.05-13.48Q120.05-11.45 118.72-10.16L118.72-10.16L118.72-10.16Q117.38-8.88 115.10-8.88L115.10-8.88L115.10-8.88Q114.11-8.88 113.72-9.27ZM131.18-1.39L131.18-1.39L131.18-1.39Q129.59 0.66 125.66 0.66L125.66 0.66L125.66 0.66Q123.62 0.66 122.13-0.58L122.13-0.58L122.13-0.58Q120.65-1.82 120.65-3.60L120.65-3.60L120.65-3.60Q120.65-4.59 120.75-5.08L120.75-5.08L122.96-16.83L129.66-17.49L127.25-4.75L127.25-4.75Q127.12-4.03 127.12-3.60L127.12-3.60L127.12-3.60Q127.12-1.68 128.27-1.68L128.27-1.68L128.27-1.68Q129.56-1.68 130.48-3.43L130.48-3.43L130.48-3.43Q130.78-3.99 130.91-4.72L130.91-4.72L133.25-16.83L139.75-17.49L137.31-4.62L137.31-4.62Q137.21-4.13 137.21-3.60L137.21-3.60L137.21-3.60Q137.21-3.07 137.51-2.49L137.51-2.49L137.51-2.49Q137.81-1.91 138.76-1.78L138.76-1.78L138.76-1.78Q138.57-0.99 137.87-0.46L137.87-0.46L137.87-0.46Q136.42 0.66 134.85 0.66L134.85 0.66L134.85 0.66Q133.29 0.66 132.36 0.10L132.36 0.10L132.36 0.10Q131.44-0.46 131.18-1.39Z" fill="#ccc"></path></g></g>
                            </svg>
                        </div>
                    </router-link>

                    <p class="pl-6 pt-12 text-gray-500 uppercase font-bold text-xs">Create</p>
                    <router-link to="/imgs/create" class="pl-6 flex items-center py-2 hover:text-blue-300 text-sm">
                        <svg viewBox="0 0 24 24" class="fill-current text-blue-600 w-5 h-5">
                            <path d="M23.3 11.9c0 .9-.6 1.4-1.4 1.4h-8.5v8.5c0 .9-.6 1.4-1.4 1.4s-1.4-.6-1.4-1.4v-8.5H2c-.9 0-1.4-.6-1.4-1.4 0-.9.6-1.4 1.4-1.4h8.5V1.9c0-.9.6-1.4 1.4-1.4s1.4.6 1.4 1.4v8.5h8.5c.9 0 1.5.6 1.5 1.5z"/>.
                        </svg>

                        <div class="pl-3 tracking-wise">Add New</div>
                    </router-link>


                    <p class="pl-6 pt-12 text-gray-500 uppercase font-bold text-xs">Posts</p>
                    <div @click="on = true; message = ''">
                        <router-link to="/imgs" class="pl-6 flex items-center py-2 hover:text-blue-300 text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-blue-600 w-5 h-5">
                                <path class="st0" d="M20 2h-1V1c0-.6-.4-1-1-1s-1 .4-1 1v1h-4V1c0-.6-.4-1-1-1s-1 .4-1 1v1H7V1c0-.6-.4-1-1-1S5 .4 5 1v1H4C1.8 2 0 3.8 0 6v14c0 2.2 1.8 4 4 4h16c2.2 0 4-1.8 4-4V6c0-2.2-1.8-4-4-4zM4 4h1v1c0 .6.4 1 1 1s1-.4 1-1V4h4v1c0 .6.4 1 1 1s1-.4 1-1V4h4v1c0 .6.4 1 1 1s1-.4 1-1V4h1c1.1 0 2 .9 2 2v2H2V6c0-1.1.9-2 2-2zm16 18H4c-1.1 0-2-.9-2-2V10h20v10c0 1.1-.9 2-2 2zM8 14c0 .6-.4 1-1 1H5c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zM8 18c0 .6-.4 1-1 1H5c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1z"/>
                            </svg>

                            <div class="pl-3 tracking-wise">Posts</div>
                        </router-link>     
                    </div>
                
                
                    <p class="pl-6 pt-12 text-gray-500 uppercase font-bold text-xs">Settings</p>
                    <router-link to="/logout" class="pl-6 flex items-center py-2 hover:text-blue-300 text-sm">
                        <svg viewBox="0 0 24 24" class="fill-current text-blue-600 w-5 h-5">
                            <path d="M21 3h-3.8c-.7 0-1.3-.6-1.3-1.3S16.5.4 17.2.4h5.1c.7 0 1.3.6 1.3 1.3v20.5c0 .7-.6 1.3-1.3 1.3h-5.1c-.7 0-1.3-.6-1.3-1.3 0-.7.6-1.3 1.3-1.3H21V3zm-6.9 7.7L8.6 5.2c-.5-.5-.6-1.3-.1-1.8s1.3-.5 1.8 0l7.7 7.7c.8.8.2 2.2-.9 2.2H1.8c-.7 0-1.3-.6-1.3-1.3 0-.7.6-1.3 1.3-1.3h12.3zm-1.6 4.8c.5-.5 1.3-.4 1.8.1s.4 1.3-.1 1.8l-3.8 3.2c-.5.5-1.3.4-1.8-.1-.6-.5-.5-1.3 0-1.7l3.9-3.3z"/>
                        </svg>

                        <div class="pl-3 tracking-wise">Logout</div>
                    </router-link>

                </nav>

            </div> <!-- left section -->


            <div class="flex flex-col flex-1 h-screen">

                <div class="h-16 px-6 border-b border-gray-400 flex items-center justify-between">
                    <div class="mr-64">
                         {{ message }}
                    </div>
                    
                    <div v-if="on == true">
                        <SearchBar id="search_bar" v-bind:api_token="user.api_token" @search="on = false; showMessage($event)"/>
                    </div>
                </div> <!-- top section -->

                <router-view class="flex flex-1 flex-wrap p-6" v-bind:api_token="user.api_token" v-bind:user_id="user.id">

                </router-view> <!-- bottom section -->
                
            </div> <!-- right section -->

        </div>
    </div>
</template>

<script>
import SearchBar from '../components/SearchBar';

export default {
    name: "App",

    data()
    {
        return {
            on: true,
            message: "",
        }
    },

    props: [
        'user'
    ],

    components: {
        SearchBar
    },

    methods: {
        showMessage(tagNames)
        {
            this.message += "Search result with Tags : " + tagNames.substring(0, tagNames.length - 3);
        }
    }
}
</script>

<style scoped>

</style>